(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-236e97aa"],{"3ca3":function(t,e,i){"use strict";var o=i("6547").charAt,a=i("69f3"),s=i("7dd0"),n="String Iterator",c=a.set,r=a.getterFor(n);s(String,"String",(function(t){c(this,{type:n,string:String(t),index:0})}),(function(){var t,e=r(this),i=e.string,a=e.index;return a>=i.length?{value:void 0,done:!0}:(t=o(i,a),e.index+=t.length,{value:t,done:!1})}))},b3d7:function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home"},[i("NavBar",{staticClass:"home-nav border toFixed",on:{"left-click":function(e){return t.$goPage({name:"City"})}}},[i("div",{staticClass:"city-entry",attrs:{slot:"left"},slot:"left"},[i("span",{staticClass:"city-name"},[t._v(" "+t._s(t.location[0].cityName)+" ")]),i("i",{staticClass:"city-entry-arrow iconfont icon-caret-down"})]),i("div",{staticClass:"movie-nav",attrs:{slot:"center","data-active":t.navActive},slot:"center"},t._l(t.navData,(function(e,o){return i("div",{key:o,staticClass:"movie-nav-item",class:{active:t.navActive==o},on:{click:function(e){return t.toggleNavTab(o)}}},[t._v(" "+t._s(e.name)+" ")])})),0),i("i",{staticClass:"iconfont icon-search nav-icon",attrs:{slot:"right"},on:{click:function(e){return t.$goPage({name:"Search"})}},slot:"right"})]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.succeedBool,expression:"succeedBool"}],staticClass:"block"},[i("MovieList",{directives:[{name:"show",rawName:"v-show",value:t.navActive<2,expression:"navActive < 2"}],staticClass:"home-movie-list",attrs:{movieList:t.hotMovie.coming},on:{change:t.goMovieDetail}},[i("p",[t._v(t._s(0==t.navActive?"最受好评电影":"近期最受期待"))])]),t._l(t.movieData,(function(e,o){return i("Movie",{key:o,attrs:{item:e},on:{movie:t.goMovieDetail}})}))],2)],1)},a=[],s=(i("4160"),i("d3b7"),i("25f0"),i("3ca3"),i("159b"),i("ddb0"),i("5530")),n=(i("f0a3"),i("2f62")),c={name:"Home",data:function(){return{succeedBool:!1,movieData:[],hotMovie:[],navData:[]}},created:function(){this.navData.push({name:"热映",api:this.api.movieOnInfoList,hotApi:this.api.mostExpecteds},{name:"待映",api:this.api.comingList,hotApi:this.api.mostExpected},{name:"经典电影",api:this.api.moreComingList}),this.getMoive()},computed:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(n["c"])({token:function(t){return t.token},optimus_uuid:function(t){return t.optimus_uuid},optimus_risk_level:function(t){return t.optimus_risk_level},optimus_code:function(t){return t.optimus_code},limit:function(t){return t.limit}})),Object(n["c"])("homeModule",{navActive:function(t){return t.navActive},location:function(t){return t.location}})),Object(n["c"])("api",{api:function(t){return t.api}})),methods:Object(s["a"])(Object(s["a"])({},Object(n["b"])("homeModule",{setNavActive:"setNavActive"})),{},{toggleNavTab:function(t){this.navActive!=t&&(this.setNavActive(t),this.getMoive())},getMoive:function(){var t=this;if("undefined"!=sessionStorage.getItem("movieList")&&"undefined"!=sessionStorage.getItem("movieComing")&&"undefined"!=sessionStorage.getItem("movieDefault")&&"undefined"!=sessionStorage.getItem("hotMovieone")&&"undefined"!=sessionStorage.getItem("hotMovietwo")&&sessionStorage.getItem("movieList")&&sessionStorage.getItem("movieComing")&&sessionStorage.getItem("movieDefault")&&sessionStorage.getItem("hotMovieone")&&sessionStorage.getItem("hotMovietwo")){var e=this.navActive?"two":"one";switch(this.hotMovie=JSON.parse(sessionStorage.getItem("hotMovie".concat(e))),!0){case 0==this.navActive:this.movieData=JSON.parse(sessionStorage.getItem("movieList"));break;case 1==this.navActive:this.movieData=JSON.parse(sessionStorage.getItem("movieComing"));break;default:this.movieData=JSON.parse(sessionStorage.getItem("movieDefault"))}return this.$toast.clear(),void(this.succeedBool=!0)}this.$toast("loading",0),this.navActive<2?Promise.all([this.axios({url:this.navData[this.navActive].hotApi,params:{token:this.token,optimus_uuid:this.optimus_uuid,optimus_risk_level:this.optimus_risk_level,optimus_code:this.optimus_code,limit:this.limit}}),this.axios({url:this.navData[this.navActive].api,params:{token:this.token,optimus_uuid:this.optimus_uuid,optimus_risk_level:this.optimus_risk_level,optimus_code:this.optimus_code}})]).then((function(e){if(!t.$judgeNetwork(e[0])&&"[object Object]"==Object.prototype.toString.call(e[1].data)){var i=t.navActive?"two":"one";switch(sessionStorage.setItem("hotMovie".concat(i),JSON.stringify(e[0].data)),t.hotMovie=e[0].data,t.movieData={},!0){case 0==t.navActive:t.movieData=e[1].data.movieList,sessionStorage.setItem("movieList",JSON.stringify(e[1].data.movieList));break;case 1==t.navActive:t.movieData=e[1].data.coming,sessionStorage.setItem("movieComing",JSON.stringify(e[1].data.coming));break}t.movieData.length>0&&(t.$toast.clear(),t.succeedBool=!0)}})):this.axios({url:this.navData[this.navActive].api,params:{token:this.token,optimus_uuid:this.optimus_uuid,optimus_risk_level:this.optimus_risk_level,optimus_code:this.optimus_code}}).then((function(e){t.$judgeNetwork(e)||"[object Object]"==Object.prototype.toString.call(e.data)&&(t.movieData={},t.movieData=e.data.coming,sessionStorage.setItem("movieDefault",JSON.stringify(e.data.coming)),t.movieData.length>0&&(t.$toast.clear(),t.succeedBool=!0))}))},goMovieDetail:function(t){this.$goPage({name:"MovieInfo",params:{movieId:t}})}}),beforeRouteEnter:function(t,e,i){document.querySelectorAll(".mask").forEach((function(t,e){return t.remove()})),i()},beforeRouteLeave:function(t,e,i){document.querySelectorAll(".mask").forEach((function(t,e){return t.remove()})),i()}},r=c,v=i("2877"),u=Object(v["a"])(r,o,a,!1,null,null,null);e["default"]=u.exports},ddb0:function(t,e,i){var o=i("da84"),a=i("fdbc"),s=i("e260"),n=i("9112"),c=i("b622"),r=c("iterator"),v=c("toStringTag"),u=s.values;for(var m in a){var l=o[m],h=l&&l.prototype;if(h){if(h[r]!==u)try{n(h,r,u)}catch(g){h[r]=u}if(h[v]||n(h,v,m),a[m])for(var d in s)if(h[d]!==s[d])try{n(h,d,s[d])}catch(g){h[d]=s[d]}}}},f0a3:function(t,e,i){}}]);
//# sourceMappingURL=chunk-236e97aa.56e9ae98.js.map