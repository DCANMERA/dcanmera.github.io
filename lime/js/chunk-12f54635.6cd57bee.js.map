{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.array.reduce.js","webpack:///./src/views/order/Pay.vue?eb15","webpack:///src/views/order/Pay.vue","webpack:///./src/views/order/Pay.vue?4076","webpack:///./src/views/order/Pay.vue","webpack:///./node_modules/core-js/modules/es.array.splice.js","webpack:///./node_modules/core-js/internals/array-reduce.js"],"names":["$","$reduce","left","arrayMethodIsStrict","arrayMethodUsesToLength","CHROME_VERSION","IS_NODE","STRICT_METHOD","USES_TO_LENGTH","1","CHROME_BUG","target","proto","forced","reduce","callbackfn","this","arguments","length","undefined","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","cinemaName","on","$event","$goBack","_v","_s","$route","query","nm","_f","Date","oriLang","substring","indexOf","class","height20","isShowTip","cinemaHallType","_l","item","index","key","value","j","seatStatus","selectPlan","planData","seats","_m","splice","rowId","columnId","price","_e","submit","getTotalPrice","staticRenderFns","component","toAbsoluteIndex","toInteger","toLength","toObject","arraySpeciesCreate","createProperty","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","ACCESSORS","0","max","Math","min","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","start","deleteCount","insertCount","actualDeleteCount","A","k","from","to","O","len","actualStart","argumentsLength","TypeError","aFunction","IndexedObject","createMethod","IS_RIGHT","that","memo","self","i","module","exports","right"],"mappings":"kHACA,IAAIA,EAAI,EAAQ,QACZC,EAAU,EAAQ,QAA6BC,KAC/CC,EAAsB,EAAQ,QAC9BC,EAA0B,EAAQ,QAClCC,EAAiB,EAAQ,QACzBC,EAAU,EAAQ,QAElBC,EAAgBJ,EAAoB,UACpCK,EAAiBJ,EAAwB,SAAU,CAAEK,EAAG,IAGxDC,GAAcJ,GAAWD,EAAiB,IAAMA,EAAiB,GAIrEL,EAAE,CAAEW,OAAQ,QAASC,OAAO,EAAMC,QAASN,IAAkBC,GAAkBE,GAAc,CAC3FI,OAAQ,SAAgBC,GACtB,OAAOd,EAAQe,KAAMD,EAAYE,UAAUC,OAAQD,UAAUC,OAAS,EAAID,UAAU,QAAKE,O,yCClB7F,IAAIC,EAAS,WAAa,IAAIC,EAAIL,KAASM,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,SAAS,CAACE,YAAY,UAAUC,MAAM,CAAC,cAAcN,EAAIO,YAAYC,GAAG,CAAC,aAAa,SAASC,GAAQ,OAAOT,EAAIU,cAAcP,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAACE,YAAY,8BAA8B,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACL,EAAIW,GAAGX,EAAIY,GAAGZ,EAAIa,OAAOC,MAAMC,OAAOZ,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACF,EAAG,OAAO,CAACH,EAAIW,GAAG,IAAIX,EAAIY,GAAGZ,EAAIgB,GAAG,aAAPhB,CAAqB,IAAKiB,KAAM,qBAAqB,OAAOd,EAAG,OAAO,CAACE,YAAY,yBAAyB,CAACL,EAAIW,GAAG,IAAIX,EAAIY,GAAGZ,EAAIa,OAAOC,MAAMI,SAAS,IAAIlB,EAAIY,GAAIZ,EAAIa,OAAOC,MAAS,IAAEK,UAAW,EAAInB,EAAIa,OAAOC,MAAS,IAAEM,QAAQ,OAAQ,aAAajB,EAAG,KAAK,CAACE,YAAY,iBAAiB,CAACF,EAAG,KAAK,CAACE,YAAY,gBAAgBgB,MAAM,CAC93BC,UAAWtB,EAAIuB,YACd,CAACpB,EAAG,MAAM,CAACG,MAAM,CAAC,IAAM,0EAA0EH,EAAG,MAAM,CAACH,EAAIW,GAAG,mCAAmCR,EAAG,OAAO,CAACE,YAAY,eAAeG,GAAG,CAAC,MAAQ,SAASC,GAAQT,EAAIuB,WAAavB,EAAIuB,aAAa,CAACvB,EAAIW,GAAG,UAAUR,EAAG,IAAI,CAACE,YAAY,WAAWgB,MAAMrB,EAAIuB,UAAU,UAAU,sBAAsBpB,EAAG,MAAM,CAACE,YAAY,wBAAwB,CAACF,EAAG,MAAM,CAACE,YAAY,2BAA2B,CAACF,EAAG,MAAM,CAACE,YAAY,6BAA6B,CAACF,EAAG,OAAO,CAACE,YAAY,aAAa,CAACL,EAAIW,GAAGX,EAAIY,GAAGZ,EAAIwB,qBAAqBrB,EAAG,MAAM,CAACE,YAAY,uBAAuBL,EAAIyB,GAAIzB,EAAa,WAAE,SAAS0B,EAAKC,GAAO,OAAOxB,EAAG,MAAM,CAACyB,IAAID,EAAMtB,YAAY,sBAAsB,CAACF,EAAG,MAAM,CAACE,YAAY,WAAW,CAACL,EAAIW,GAAGX,EAAIY,GAAGe,EAAQ,MAAM3B,EAAIyB,GAAIC,EAAU,OAAE,SAASG,EAAMC,GAAG,OAAO3B,EAAG,MAAM,CAACyB,IAAIE,EAAEzB,YAAY,OAAOC,MAAM,CAAC,cAAcuB,EAAME,YAAYvB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOT,EAAIgC,WAAWH,MAAU,CAAC1B,EAAG,MAAM,CAACE,YAAY,eAAc,MAAK,OAAOF,EAAG,MAAM,CAACE,YAAY,YAAYC,MAAM,CAAC,YAAYN,EAAIiC,SAASC,MAAMrC,OAAS,EAAI,SAAW,cAAc,CAACG,EAAImC,GAAG,GAAInC,EAAIiC,SAASC,MAAMrC,OAAS,EAAGM,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,MAAM,CAACE,YAAY,eAAe,CAACL,EAAIW,GAAG,YAAYR,EAAG,MAAM,CAACE,YAAY,2BAA2BL,EAAIyB,GAAIzB,EAAIiC,SAAc,OAAE,SAASP,EAAKC,GAAO,OAAOxB,EAAG,MAAM,CAACyB,IAAID,EAAMtB,YAAY,qBAAqBG,GAAG,CAAC,MAAQ,SAASC,GAAQT,EAAIiC,SAASC,MAAME,OAAOT,EAAM,GAAID,EAAKK,WAAa,KAAM,CAAC5B,EAAG,IAAI,CAACE,YAAY,sBAAsB,CAACL,EAAIW,GAAG,IAAIX,EAAIY,GAAGc,EAAKW,OAAO,IAAIrC,EAAIY,GAAGc,EAAKY,SAAW,GAAKZ,EAAKY,SAAY,IAAOZ,EAAa,UAAI,QAAQvB,EAAG,IAAI,CAACE,YAAY,cAAc,CAACL,EAAIW,GAAG,KAAKX,EAAIY,GAAGc,EAAKa,OAAO,OAAOpC,EAAG,OAAO,CAACE,YAAY,mCAAkC,KAAKL,EAAIwC,KAAKrC,EAAG,MAAM,CAACE,YAAY,yBAAyB,CAACF,EAAG,MAAM,CAACE,YAAY,cAAcG,GAAG,CAAC,MAAQR,EAAIyC,SAAS,CAACzC,EAAIW,GAAG,IAAIX,EAAIY,GAAGZ,EAAI0C,eAAe,kBAAkB,IACr8DC,EAAkB,CAAC,WAAa,IAAI3C,EAAIL,KAASM,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,OAAO,CAACE,YAAY,eAAe,CAACF,EAAG,MAAM,CAACE,YAAY,OAAOC,MAAM,CAAC,IAAM,0EAA0EH,EAAG,OAAO,CAACE,YAAY,QAAQ,CAACL,EAAIW,GAAG,UAAUR,EAAG,OAAO,CAACE,YAAY,eAAe,CAACF,EAAG,MAAM,CAACE,YAAY,OAAOC,MAAM,CAAC,IAAM,gFAAgFH,EAAG,OAAO,CAACE,YAAY,QAAQ,CAACL,EAAIW,GAAG,UAAUR,EAAG,OAAO,CAACE,YAAY,eAAe,CAACF,EAAG,MAAM,CAACE,YAAY,OAAOC,MAAM,CAAC,IAAM,iFAAiFH,EAAG,OAAO,CAACE,YAAY,QAAQ,CAACL,EAAIW,GAAG,iB,kGCyIhyB,GACE,KAAF,MAEE,KAHF,WAII,MAAJ,CAGM,WAAN,GAGM,eAAN,GAGM,UAAN,GAGM,WAAN,EAGM,SAAN,CACQ,eAAR,GACQ,WAAR,GACQ,UAAR,GACQ,SAAR,GACQ,MAAR,GACQ,KAAR,MAME,QA/BF,WA+BI,IAAJ,OACI,YAAJ,WACM,EAAN,iBACA,KACI,KAAJ,0BACA,eACA,gDACI,IAAJ,aACA,oCACA,sBADA,OACA,kBAGA,EACM,KAAN,aAGI,KAAJ,oBACI,KAAJ,2BACM,EAAN,uBACA,kBACU,EAAV,sBAME,SAAF,gBACI,cADJ,WAEM,OAAN,8BACA,GAEA,qDAAQ,OAAO,EAAf,gBAEA,+BACI,KAAJ,YAAM,OAAN,QACI,OAAJ,YAAM,OAAN,UACI,SAAJ,YAAM,OAAN,eAIE,QAAF,iCACA,+BACI,QAAJ,UACI,QAAJ,UACI,WAAJ,gBAJA,IAQI,WARJ,SAQA,GAAM,IAAN,OACM,QAAN,GACQ,KAAR,gBACU,GAAV,6BAEY,YADA,KAAZ,sBAGU,EAAV,aACU,KAAV,uBACU,MACF,KAAR,gBACU,KAAV,kCAEA,wBACA,kBAEc,EAAd,8BAGU,EAAV,aACU,MACF,KAAR,gBACU,KAAV,eACU,MACF,KAAR,gBACU,KAAV,gBACU,QAKN,OAvCJ,WAwCM,IAAN,KACA,+BAKQ,EADR,iCACA,gDAEA,eAEM,KAAN,iBACM,KAAN,mCACM,KAAN,4CACM,KAAN,sBACM,KAAN,sCACM,KAAN,wCACM,KAAN,wCACM,KAAN,gCACM,KAAN,iCACM,KAAN,uBACM,KAAN,uBACM,KAAN,SACQ,KAAR,WApBQ,KAAR,mBAyBE,iBA1IF,SA0IA,OACI,SAAJ,iDAAM,OAAN,cACI,MCxRwV,I,YCOxViC,EAAY,eACd,EACA7C,EACA4C,GACA,EACA,KACA,KACA,MAIa,aAAAC,E,2CCjBf,IAAIjE,EAAI,EAAQ,QACZkE,EAAkB,EAAQ,QAC1BC,EAAY,EAAQ,QACpBC,EAAW,EAAQ,QACnBC,EAAW,EAAQ,QACnBC,EAAqB,EAAQ,QAC7BC,EAAiB,EAAQ,QACzBC,EAA+B,EAAQ,QACvCpE,EAA0B,EAAQ,QAElCqE,EAAsBD,EAA6B,UACnDhE,EAAiBJ,EAAwB,SAAU,CAAEsE,WAAW,EAAMC,EAAG,EAAGlE,EAAG,IAE/EmE,EAAMC,KAAKD,IACXE,EAAMD,KAAKC,IACXC,EAAmB,iBACnBC,EAAkC,kCAKtChF,EAAE,CAAEW,OAAQ,QAASC,OAAO,EAAMC,QAAS4D,IAAwBjE,GAAkB,CACnFiD,OAAQ,SAAgBwB,EAAOC,GAC7B,IAIIC,EAAaC,EAAmBC,EAAGC,EAAGC,EAAMC,EAJ5CC,EAAIpB,EAASrD,MACb0E,EAAMtB,EAASqB,EAAEvE,QACjByE,EAAczB,EAAgBe,EAAOS,GACrCE,EAAkB3E,UAAUC,OAWhC,GATwB,IAApB0E,EACFT,EAAcC,EAAoB,EACL,IAApBQ,GACTT,EAAc,EACdC,EAAoBM,EAAMC,IAE1BR,EAAcS,EAAkB,EAChCR,EAAoBN,EAAIF,EAAIT,EAAUe,GAAc,GAAIQ,EAAMC,IAE5DD,EAAMP,EAAcC,EAAoBL,EAC1C,MAAMc,UAAUb,GAGlB,IADAK,EAAIf,EAAmBmB,EAAGL,GACrBE,EAAI,EAAGA,EAAIF,EAAmBE,IACjCC,EAAOI,EAAcL,EACjBC,KAAQE,GAAGlB,EAAec,EAAGC,EAAGG,EAAEF,IAGxC,GADAF,EAAEnE,OAASkE,EACPD,EAAcC,EAAmB,CACnC,IAAKE,EAAIK,EAAaL,EAAII,EAAMN,EAAmBE,IACjDC,EAAOD,EAAIF,EACXI,EAAKF,EAAIH,EACLI,KAAQE,EAAGA,EAAED,GAAMC,EAAEF,UACbE,EAAED,GAEhB,IAAKF,EAAII,EAAKJ,EAAII,EAAMN,EAAoBD,EAAaG,WAAYG,EAAEH,EAAI,QACtE,GAAIH,EAAcC,EACvB,IAAKE,EAAII,EAAMN,EAAmBE,EAAIK,EAAaL,IACjDC,EAAOD,EAAIF,EAAoB,EAC/BI,EAAKF,EAAIH,EAAc,EACnBI,KAAQE,EAAGA,EAAED,GAAMC,EAAEF,UACbE,EAAED,GAGlB,IAAKF,EAAI,EAAGA,EAAIH,EAAaG,IAC3BG,EAAEH,EAAIK,GAAe1E,UAAUqE,EAAI,GAGrC,OADAG,EAAEvE,OAASwE,EAAMN,EAAoBD,EAC9BE,M,qBCnEX,IAAIS,EAAY,EAAQ,QACpBzB,EAAW,EAAQ,QACnB0B,EAAgB,EAAQ,QACxB3B,EAAW,EAAQ,QAGnB4B,EAAe,SAAUC,GAC3B,OAAO,SAAUC,EAAMnF,EAAY6E,EAAiBO,GAClDL,EAAU/E,GACV,IAAI0E,EAAIpB,EAAS6B,GACbE,EAAOL,EAAcN,GACrBvE,EAASkD,EAASqB,EAAEvE,QACpB8B,EAAQiD,EAAW/E,EAAS,EAAI,EAChCmF,EAAIJ,GAAY,EAAI,EACxB,GAAIL,EAAkB,EAAG,MAAO,EAAM,CACpC,GAAI5C,KAASoD,EAAM,CACjBD,EAAOC,EAAKpD,GACZA,GAASqD,EACT,MAGF,GADArD,GAASqD,EACLJ,EAAWjD,EAAQ,EAAI9B,GAAU8B,EACnC,MAAM6C,UAAU,+CAGpB,KAAMI,EAAWjD,GAAS,EAAI9B,EAAS8B,EAAOA,GAASqD,EAAOrD,KAASoD,IACrED,EAAOpF,EAAWoF,EAAMC,EAAKpD,GAAQA,EAAOyC,IAE9C,OAAOU,IAIXG,EAAOC,QAAU,CAGfrG,KAAM8F,GAAa,GAGnBQ,MAAOR,GAAa,K","file":"js/chunk-12f54635.6cd57bee.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar $reduce = require('../internals/array-reduce').left;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\nvar CHROME_VERSION = require('../internals/engine-v8-version');\nvar IS_NODE = require('../internals/engine-is-node');\n\nvar STRICT_METHOD = arrayMethodIsStrict('reduce');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('reduce', { 1: 0 });\n// Chrome 80-82 has a critical bug\n// https://bugs.chromium.org/p/chromium/issues/detail?id=1049982\nvar CHROME_BUG = !IS_NODE && CHROME_VERSION > 79 && CHROME_VERSION < 83;\n\n// `Array.prototype.reduce` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH || CHROME_BUG }, {\n  reduce: function reduce(callbackfn /* , initialValue */) {\n    return $reduce(this, callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pay\"},[_c('NavBar',{staticClass:\"toFixed\",attrs:{\"text-center\":_vm.cinemaName},on:{\"left-click\":function($event){return _vm.$goBack()}}}),_c('div',{staticClass:\"seat-block\"},[_c('div',{staticClass:\"info-block\"},[_c('div',{staticClass:\"movie-info box-flex middle\"},[_c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"title line-ellipsis\"},[_vm._v(_vm._s(_vm.$route.query.nm))]),_c('div',{staticClass:\"info line-ellipsis\"},[_c('span',[_vm._v(\" \"+_vm._s(_vm._f(\"formatDate\")((new Date),'yyyy-MM-dd hh:mm'))+\" \")]),_c('span',{staticClass:\"version line-ellipsis\"},[_vm._v(\" \"+_vm._s(_vm.$route.query.oriLang)+\" \"+_vm._s((_vm.$route.query.ver).substring( 0, (_vm.$route.query.ver).indexOf('/') ))+\" \")])])])]),_c('ul',{staticClass:\"reminder-list\"},[_c('li',{staticClass:\"reminder-item\",class:{\n              height20: !_vm.isShowTip\n            }},[_c('img',{attrs:{\"src\":\"http://p1.meituan.net/movie/77717de09967c29cd5b3d1f76309ac841254.png\"}}),_c('div',[_vm._v(\"观影需全程佩戴口罩,电影放映期间影厅内禁止饮食,感谢配合！\")]),_c('span',{staticClass:\"reminder-num\",on:{\"click\":function($event){_vm.isShowTip = !_vm.isShowTip}}},[_vm._v(\" 1条通知 \"),_c('i',{staticClass:\"iconfont\",class:_vm.isShowTip?'icon-up':'icon-down'})])])])]),_c('div',{staticClass:\"select-block animate\"},[_c('div',{staticClass:\"seat-block-wrap animate\"},[_c('div',{staticClass:\"hall-name-wrapper animate\"},[_c('span',{staticClass:\"hall-name\"},[_vm._v(_vm._s(_vm.cinemaHallType))])]),_c('div',{staticClass:\"seats-block animate\"},_vm._l((_vm.seatsData),function(item,index){return _c('div',{key:index,staticClass:\"seats-wrap animate\"},[_c('div',{staticClass:\"row-nav\"},[_vm._v(_vm._s(index + 1))]),_vm._l((item.seats),function(value,j){return _c('div',{key:j,staticClass:\"wrap\",attrs:{\"data-status\":value.seatStatus},on:{\"click\":function($event){return _vm.selectPlan(value)}}},[_c('div',{staticClass:\"seat\"})])})],2)}),0)])]),_c('div',{staticClass:\"buy-block\",attrs:{\"data-show\":_vm.planData.seats.length > 0 ? 'submit' : 'recommend'}},[_vm._m(0),(_vm.planData.seats.length > 0)?_c('div',{staticClass:\"price-block\"},[_c('div',{staticClass:\"title-block\"},[_vm._v(\" 已选座位 \")]),_c('div',{staticClass:\"box-flex selected-block\"},_vm._l((_vm.planData.seats),function(item,index){return _c('div',{key:index,staticClass:\"selected-seat-item\",on:{\"click\":function($event){_vm.planData.seats.splice(index,1); item.seatStatus = 1;}}},[_c('p',{staticClass:\"selected-seat-info\"},[_vm._v(\" \"+_vm._s(item.rowId)+\"排\"+_vm._s(item.columnId > 10 ? item.columnId : (\"0\" + (item.columnId)))+\"座 \")]),_c('p',{staticClass:\"price-info\"},[_vm._v(\" ¥\"+_vm._s(item.price)+\" \")]),_c('span',{staticClass:\"iconfont close icon-close\"})])}),0)]):_vm._e(),_c('div',{staticClass:\"submit-block box-flex\"},[_c('div',{staticClass:\"submit flex\",on:{\"click\":_vm.submit}},[_vm._v(\" \"+_vm._s(_vm.getTotalPrice)+\"确认选座 \")])])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cinema-info\"},[_c('div',{staticClass:\"seat-type-info\"},[_c('span',{staticClass:\"text-middle\"},[_c('img',{staticClass:\"icon\",attrs:{\"src\":\"http://p1.meituan.net/movie/9dfff6fd525a7119d44e5734ab0e9fb41244.png\"}}),_c('span',{staticClass:\"text\"},[_vm._v(\"可选\")])]),_c('span',{staticClass:\"text-middle\"},[_c('img',{staticClass:\"icon\",attrs:{\"src\":\"http://p0.meituan.net/moviemachine/2af4c987b1758563e22258c077139cdf842.png\"}}),_c('span',{staticClass:\"text\"},[_vm._v(\"已售\")])]),_c('span',{staticClass:\"text-middle\"},[_c('img',{staticClass:\"icon\",attrs:{\"src\":\"http://p0.meituan.net/moviemachine/4abd89a0c0a864694b27c54d229fa7f41099.png\"}}),_c('span',{staticClass:\"text\"},[_vm._v(\"不可售\")])])])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"pay\">\r\n\r\n    <!-- 顶部导航栏 -->\r\n    <NavBar @left-click=\"$goBack()\"\r\n            :text-center=\"cinemaName\"\r\n            class=\"toFixed\">\r\n    </NavBar>\r\n\r\n    <div class=\"seat-block\">\r\n\r\n      <div class=\"info-block\">\r\n\r\n        <!-- 电影头部信息 -->\r\n        <div class=\"movie-info box-flex middle\">\r\n          <div class=\"flex\">\r\n            <div class=\"title line-ellipsis\">{{$route.query.nm}}</div>\r\n            <div class=\"info line-ellipsis\">\r\n              <span>\r\n                {{(new Date) | formatDate('yyyy-MM-dd hh:mm')}}\r\n              </span>\r\n              <span class=\"version line-ellipsis\">\r\n                {{$route.query.oriLang}}\r\n                {{\r\n                  ($route.query.ver).substring(\r\n                    0,\r\n                    ($route.query.ver).indexOf('/')\r\n                  )\r\n                }}\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- 电影通告 -->\r\n        <ul class=\"reminder-list\">\r\n          <li class=\"reminder-item\"\r\n              :class=\"{\r\n                height20: !isShowTip\r\n              }\">\r\n            <img src=\"http://p1.meituan.net/movie/77717de09967c29cd5b3d1f76309ac841254.png\">\r\n            <div>观影需全程佩戴口罩,电影放映期间影厅内禁止饮食,感谢配合！</div>\r\n            <span class=\"reminder-num\"\r\n                  @click=\"isShowTip = !isShowTip\">\r\n              1条通知\r\n              <i class=\"iconfont\"\r\n                 :class=\"isShowTip?'icon-up':'icon-down'\"></i>\r\n            </span>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n\r\n      <!-- 选座区域 -->\r\n      <div class=\"select-block animate\">\r\n        <div class=\"seat-block-wrap animate\">\r\n\r\n          <!-- 影院厅 -->\r\n          <div class=\"hall-name-wrapper animate\">\r\n            <span class=\"hall-name\">{{cinemaHallType}}</span>\r\n          </div>\r\n\r\n          <div class=\"seats-block animate\">\r\n            <!-- 电影选座列数 -->\r\n            <div class=\"seats-wrap animate\"\r\n                 v-for=\"(item,index) in seatsData\"\r\n                 :key=\"index\">\r\n              <div class=\"row-nav\">{{index + 1}}</div>\r\n              <div class=\"wrap\"\r\n                   v-for=\"(value,j) in item.seats\"\r\n                   :data-status=\"value.seatStatus\"\r\n                   :key=\"j\"\r\n                   @click=\"selectPlan(value)\">\r\n                <div class=\"seat\">\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 购买区域 -->\r\n      <div class=\"buy-block\"\r\n           :data-show=\"planData.seats.length > 0 ? 'submit' : 'recommend'\">\r\n        <div class=\"cinema-info\">\r\n          <div class=\"seat-type-info\">\r\n            <span class=\"text-middle\">\r\n              <img class=\"icon\"\r\n                   src=\"http://p1.meituan.net/movie/9dfff6fd525a7119d44e5734ab0e9fb41244.png\">\r\n              <span class=\"text\">可选</span>\r\n            </span>\r\n            <span class=\"text-middle\">\r\n              <img class=\"icon\"\r\n                   src=\"http://p0.meituan.net/moviemachine/2af4c987b1758563e22258c077139cdf842.png\">\r\n              <span class=\"text\">已售</span>\r\n            </span>\r\n            <span class=\"text-middle\">\r\n              <img class=\"icon\"\r\n                   src=\"http://p0.meituan.net/moviemachine/4abd89a0c0a864694b27c54d229fa7f41099.png\">\r\n              <span class=\"text\">不可售</span>\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <div class=\"price-block\"\r\n             v-if=\"planData.seats.length > 0\">\r\n          <div class=\"title-block\">\r\n            已选座位\r\n          </div>\r\n          <div class=\"box-flex selected-block\">\r\n            <div class=\"selected-seat-item\"\r\n                 v-for=\"(item,index) in planData.seats\"\r\n                 :key=\"index\"\r\n                 @click=\"planData.seats.splice(index,1); item.seatStatus = 1;\">\r\n              <p class=\"selected-seat-info\">\r\n                {{item.rowId}}排{{item.columnId > 10 ? item.columnId : `0${item.columnId}`}}座\r\n              </p>\r\n              <p class=\"price-info\">\r\n                ¥{{item.price}}\r\n              </p>\r\n              <span class=\"iconfont close icon-close\"></span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"submit-block box-flex\">\r\n          <div class=\"submit flex\"\r\n               @click=\"submit\">\r\n            {{getTotalPrice}}确认选座\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import '@/assets/scss/pay.scss';\r\n  import {\r\n    mapState,\r\n    mapMutations\r\n  } from 'vuex'\r\n\r\n  export default {\r\n    name: 'Pay',\r\n\r\n    data() {\r\n      return {\r\n\r\n        // 电影名字\r\n        cinemaName: '',\r\n\r\n        // 电影厅类型\r\n        cinemaHallType: '',\r\n\r\n        // 电影数据\r\n        seatsData: [],\r\n\r\n        // 是否展开提示内容\r\n        isShowTip: false,\r\n\r\n        // 选择座位信息\r\n        planData: {\r\n          cinemaHallType: '',\r\n          cinemaName: '',\r\n          movieName: '',\r\n          movieDur: '',\r\n          seats: [],\r\n          date: ''\r\n        }\r\n\r\n      }\r\n    },\r\n\r\n    created() {\r\n      setTimeout(() => {\r\n        this.$toast.clear()\r\n      }, 2000)\r\n      this.cinemaName = this.cinema.nm ?\r\n        this.cinema.nm :\r\n        JSON.parse(sessionStorage.getItem('cinema')).nm\r\n      let data = JSON.parse(\r\n        localStorage.getItem(\r\n          `seats${this.$route.query.id}${this.cinema.id}`\r\n        )\r\n      )\r\n      if (data) {\r\n        this.seatsData = data\r\n        return\r\n      }\r\n      this.seatsData = this.seat\r\n      this.seatsData.map(item => {\r\n        item.seats.map(value => {\r\n          if (value.seatStatus == 3) {\r\n            value.seatStatus = 1\r\n          }\r\n        })\r\n      })\r\n    },\r\n\r\n    computed: {\r\n      getTotalPrice() {\r\n        if (this.planData.seats.length == 0) {\r\n          return ''\r\n        }\r\n        return `￥${this.planData.seats.reduce((p, n) => p + n.price, 0)}`\r\n      },\r\n      ...mapState('cinemaModule', {\r\n        seat: state => state.seat,\r\n        cinema: state => state.cinema,\r\n        movieImg: state => state.movieImg,\r\n      })\r\n    },\r\n\r\n    methods: {\r\n      ...mapMutations('cinemaModule', {\r\n        setPlan: 'setPlan',\r\n        setSeat: 'setSeat',\r\n        setMovieId: 'setMovieId',\r\n      }),\r\n\r\n      // 选择座位\r\n      selectPlan(item) {\r\n        switch (true) {\r\n          case item.seatStatus == 1:\r\n            if (this.planData.seats.length > 3) {\r\n              this.$toast('一次最多选择四张电影票')\r\n              return\r\n            }\r\n            item.seatStatus = 2\r\n            this.planData.seats.push(item)\r\n            break\r\n          case item.seatStatus == 2:\r\n            this.planData.seats.map((v, i) => {\r\n              if (\r\n                v.columnId == item.columnId &&\r\n                v.rowId == item.rowId\r\n              ) {\r\n                this.planData.seats.splice(i, 1)\r\n              }\r\n            })\r\n            item.seatStatus = 1\r\n            break\r\n          case item.seatStatus == 3:\r\n            this.$toast('座位已售')\r\n            break\r\n          case item.seatStatus == 4:\r\n            this.$toast('座位不可用')\r\n            break\r\n        }\r\n      },\r\n\r\n      // 提交订单\r\n      submit() {\r\n        let cinemaName = ''\r\n        if (this.planData.seats.length == 0) {\r\n          this.$toast('请选择座位')\r\n          return\r\n        }\r\n        if (sessionStorage.getItem('cinema')) {\r\n          cinemaName = JSON.parse(sessionStorage.getItem('cinema')).nm\r\n        } else {\r\n          cinemaName = this.cinema.nm\r\n        }\r\n        this.$toast('提交订单成功')\r\n        this.planData.date = (new Date).getTime()\r\n        this.planData.cinemaHallType = this.cinemaHallType\r\n        this.planData.cinemaName = cinemaName\r\n        this.planData.movieId = this.$route.query.id\r\n        this.planData.movieName = this.$route.query.nm\r\n        this.planData.movieDur = this.$route.query.dur\r\n        this.planData.movieImg = this.movieImg\r\n        this.setMovieId(this.$route.query.id)\r\n        this.setSeat(this.planData)\r\n        this.setPlan(this.planData)\r\n        this.$goPage({\r\n          name: 'Order'\r\n        })\r\n      }\r\n    },\r\n\r\n    beforeRouteEnter(to, from, next) {\r\n      document.querySelectorAll('.mask').forEach((item, index) => item.remove())\r\n      next()\r\n    },\r\n  }\r\n\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pay.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pay.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Pay.vue?vue&type=template&id=0f237de0&\"\nimport script from \"./Pay.vue?vue&type=script&lang=js&\"\nexport * from \"./Pay.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('splice', { ACCESSORS: true, 0: 0, 1: 2 });\n\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = toLength(O.length);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toInteger(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n","var aFunction = require('../internals/a-function');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.{ reduce, reduceRight }` methods implementation\nvar createMethod = function (IS_RIGHT) {\n  return function (that, callbackfn, argumentsLength, memo) {\n    aFunction(callbackfn);\n    var O = toObject(that);\n    var self = IndexedObject(O);\n    var length = toLength(O.length);\n    var index = IS_RIGHT ? length - 1 : 0;\n    var i = IS_RIGHT ? -1 : 1;\n    if (argumentsLength < 2) while (true) {\n      if (index in self) {\n        memo = self[index];\n        index += i;\n        break;\n      }\n      index += i;\n      if (IS_RIGHT ? index < 0 : length <= index) {\n        throw TypeError('Reduce of empty array with no initial value');\n      }\n    }\n    for (;IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) {\n      memo = callbackfn(memo, self[index], index, O);\n    }\n    return memo;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.reduce` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n  left: createMethod(false),\n  // `Array.prototype.reduceRight` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduceright\n  right: createMethod(true)\n};\n"],"sourceRoot":""}