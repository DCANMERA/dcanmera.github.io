(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-64723276"],{"655e":function(e,s,t){"use strict";t.r(s);var o=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"forgot"},[t("NavBar",{attrs:{textCenter:"青柠影院"},on:{"left-click":function(s){return e.$goBack()}}}),t("div",{staticClass:"user-layout"},[t("div",{staticClass:"layout-tip"},[e._v("找回密码")]),e.isNext?t("div",[t("div",{staticClass:"user-phone"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.userInfo.phone,expression:"userInfo.phone"}],staticClass:"common-ipt",attrs:{type:"text",placeholder:"请输入你的登录手机号"},domProps:{value:e.userInfo.phone},on:{input:function(s){s.target.composing||e.$set(e.userInfo,"phone",s.target.value)}}})]),t("form",[t("div",{staticClass:"user-password"},["checkbox"===(e.isRegisterPassword?"text":"password")?t("input",{directives:[{name:"model",rawName:"v-model",value:e.userInfo.password,expression:"userInfo.password"}],staticClass:"common-ipt",attrs:{placeholder:"请输入你的登录密码",autocomplete:"off",type:"checkbox"},domProps:{checked:Array.isArray(e.userInfo.password)?e._i(e.userInfo.password,null)>-1:e.userInfo.password},on:{change:function(s){var t=e.userInfo.password,o=s.target,a=!!o.checked;if(Array.isArray(t)){var i=null,r=e._i(t,i);o.checked?r<0&&e.$set(e.userInfo,"password",t.concat([i])):r>-1&&e.$set(e.userInfo,"password",t.slice(0,r).concat(t.slice(r+1)))}else e.$set(e.userInfo,"password",a)}}}):"radio"===(e.isRegisterPassword?"text":"password")?t("input",{directives:[{name:"model",rawName:"v-model",value:e.userInfo.password,expression:"userInfo.password"}],staticClass:"common-ipt",attrs:{placeholder:"请输入你的登录密码",autocomplete:"off",type:"radio"},domProps:{checked:e._q(e.userInfo.password,null)},on:{change:function(s){return e.$set(e.userInfo,"password",null)}}}):t("input",{directives:[{name:"model",rawName:"v-model",value:e.userInfo.password,expression:"userInfo.password"}],staticClass:"common-ipt",attrs:{placeholder:"请输入你的登录密码",autocomplete:"off",type:e.isRegisterPassword?"text":"password"},domProps:{value:e.userInfo.password},on:{input:function(s){s.target.composing||e.$set(e.userInfo,"password",s.target.value)}}}),t("i",{staticClass:"iconfont check-psd",class:e.isRegisterPassword?"icon-eye":"icon-eye-close",on:{click:e.toggleRegsiterPasswordType}})])]),t("div",{staticClass:"link"},[t("span"),t("span",{on:{click:function(s){return e.$goPage({name:"Login"})}}},[e._v("已有账号，立即登录")])]),t("input",{staticClass:"user-commit",attrs:{type:"button",value:"提交"},on:{click:e.commit}}),t("div",{staticClass:"user-back"},[t("span",{on:{click:e.back}},[e._v("返回")])])]):t("div",[t("div",{staticClass:"user-phone"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.userInfo.email,expression:"userInfo.email"}],staticClass:"common-ipt",attrs:{type:"text",placeholder:"请输入你的邮箱"},domProps:{value:e.userInfo.email},on:{input:function(s){s.target.composing||e.$set(e.userInfo,"email",s.target.value)}}})]),t("form",[t("div",{staticClass:"user-password"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.userInfo.code,expression:"userInfo.code"}],staticClass:"common-ipt",attrs:{type:"text",placeholder:"请输入六位验证码"},domProps:{value:e.userInfo.code},on:{input:function(s){s.target.composing||e.$set(e.userInfo,"code",s.target.value)}}}),t("i",{staticClass:"check-psd sendCode",class:{active:e.isSend},on:{click:e.getValidCode}},[e._v(" "+e._s(e.text)+" ")])])]),t("div",{staticClass:"link"},[t("span"),t("span",{on:{click:function(s){return e.$goPage({name:"Login"})}}},[e._v("已有账号，立即登录")])]),t("input",{staticClass:"user-commit",attrs:{type:"button",value:"下一步"},on:{click:e.next}})]),e._m(0)])],1)},a=[function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"copy"},[e._v(" © 青柠影院 客服电话： "),t("span",{staticClass:"active"},[e._v("400-670-5335")])])}],i=t("5530"),r=t("c965"),n=t("2f62"),c={name:"Forgot",data:function(){return{userInfo:{phone:"",password:"",email:"",code:""},isRegisterPassword:!1,isNext:!1,isSend:!1,text:"发送验证码"}},computed:Object(i["a"])(Object(i["a"])({},Object(n["c"])("api",{api:function(e){return e.api}})),Object(n["c"])({appkey:function(e){return e.appkey}})),methods:{back:function(){this.isNext=!1},toggleRegisterBox:function(){this.isShow=!0},toggleRegsiterPasswordType:function(){this.isRegisterPassword=!this.isRegisterPassword},next:function(){var e=this,s={email:{value:this.userInfo.email,errorMsg:"邮箱格式不正确",reg:/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/},code:{value:this.userInfo.code,errorMsg:"验证码格式不正确",reg:/^[A-Za-z\d]{6}$/}},t=r["a"].validate(s);t.bool?(this.$toast("loading",0),this.axios({method:"POST",url:this.api.checkValidCode,data:{appkey:this.appkey,validCode:this.userInfo.code}}).then((function(s){e.$toast.clear(),e.$toast(s.data.msg),"K001"==s.data.code&&(e.isNext=!0)}))):this.$toast(t.msg)},getValidCode:function(){var e=this;if(!this.isSend){var s={email:{value:this.userInfo.email,errorMsg:"邮箱格式不正确",reg:/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/}},t=r["a"].validate(s);if(t.bool){var o=60;this.isSend=!0,this.text=o+"秒后重新发送";var a=setInterval((function(){o<=0?(clearInterval(a),a=null,o=60,e.isSend=!1,e.text="重新发送验证码"):(o--,e.text=o+"秒后重新发送")}),1e3);this.$toast("loading",0),this.axios({method:"POST",url:this.api.emailValidCode,data:{appkey:this.appkey,email:this.userInfo.email}}).then((function(s){e.$toast.clear(),e.$toast(s.data.msg)}))}else this.$toast(t.msg)}},commit:function(){var e=this,s={phone:{value:this.userInfo.phone,errorMsg:"手机号格式不正确",reg:/^1[3-9]\d{9}$/},password:{value:this.userInfo.password,errorMsg:"新密码由数字字母下划线组合(6-16字符)",reg:/^[A-Za-z]\w{5,15}$/}},t=r["a"].validate(s);t.bool?(this.$toast("loading",0),this.axios({method:"POST",url:this.api.retrievePassword,data:{appkey:this.appkey,phone:this.userInfo.phone,password:this.userInfo.password}}).then((function(s){e.$toast.clear(),e.$toast(s.data.msg),"L001"==s.data.code&&setTimeout((function(){e.$goPage("Login")}),1500)}))):this.$toast(t.msg)}}},l=c,u=(t("81c4"),t("2877")),d=Object(u["a"])(l,o,a,!1,null,null,null);s["default"]=d.exports},"81c4":function(e,s,t){"use strict";t("df8f")},c965:function(e,s,t){"use strict";function o(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}t.d(s,"a",(function(){return n}));t("7a82");function a(e,s){for(var t=0;t<s.length;t++){var o=s[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function i(e,s,t){return s&&a(e.prototype,s),t&&a(e,t),e}var r=function(){function e(){o(this,e)}return i(e,[{key:"validate",value:function(e){for(var s in e)if(!e[s].reg.test(e[s].value))return{bool:!1,msg:e[s].errorMsg};return{bool:!0}}}]),e}(),n=new r},df8f:function(e,s,t){}}]);
//# sourceMappingURL=chunk-64723276.e57a9cf9.js.map