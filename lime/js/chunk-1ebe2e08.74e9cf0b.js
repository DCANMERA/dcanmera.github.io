(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1ebe2e08"],{"0255":function(t,e,o){},"2cbf":function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"security"},[o("NavBar",{staticClass:"toFixed",attrs:{"text-center":"安全中心"},on:{"left-click":function(e){return t.$goBack()}}}),o("ul",{staticClass:"security-content"},[o("li",{on:{click:function(e){return t.$goPage({name:"Forgot"})}}},[t._v("修改密码")]),o("li",{on:{click:function(e){return t.showPopup(0)}}},[t._v("注销账号")]),o("li",{on:{click:function(e){return t.showPopup(1)}}},[t._v("退出登录")])]),o("Popup",{directives:[{name:"show",rawName:"v-show",value:t.isShowPopup,expression:"isShowPopup"}]},[o("div",{staticClass:"security-destroy"},[o("p",[t._v(t._s(t.active?"确认注销账号":"确认退出登录"))]),o("div",{staticClass:"box-flex"},[o("div",{staticClass:"cancel",on:{click:t.cancel}},[t._v(" 取消 ")]),o("div",{staticClass:"affirm",on:{click:t.affirm}},[t._v(" 确认 ")])])])])],1)},a=[],c=o("5530"),n=o("2f62"),s={name:"Security",data:function(){return{isShowPopup:!1,active:0}},computed:Object(c["a"])(Object(c["a"])(Object(c["a"])({},Object(n["c"])({appkey:function(t){return t.appkey}})),Object(n["c"])("api",{api:function(t){return t.api}})),Object(n["c"])("userModule",{__tk:function(t){return t.__tk}})),methods:Object(c["a"])(Object(c["a"])(Object(c["a"])({},Object(n["b"])("cinemaModule",{setPlan:"setPlan"})),Object(n["b"])("userModule",{set__tk:"set__tk"})),{},{showPopup:function(t){this.isShowPopup=!0,this.active=t},cancel:function(){this.isShowPopup=!1},affirm:function(){var t=this,e=localStorage.getItem("__tk");if(!e)return this.$toast("请先登录"),void setTimeout((function(){t.$goPage({name:"Login"})}),1e3);this.setPlan([]),this.active?(localStorage.removeItem("__tk"),e!=this.__tk&&(localStorage.removeItem("historyCity"),localStorage.removeItem("_sh")),this.$toast("退出登录成功"),this.isShowPopup=!1,setTimeout((function(){t.$goPage({name:"Login"})}),1500)):this.axios({method:"POST",url:this.api.destroyAccount,data:{appkey:this.appkey,tokenString:e}}).then((function(e){return 700==e.data.code?(t.$toast("请先登录"),void setTimeout((function(){t.$goPage({name:"Login"})}),1500)):"G001"==e.data.code?(t.$toast("注销账号成功"),localStorage.clear(),t.set__tk(""),void setTimeout((function(){t.$goPage({name:"Login"})}),800)):(t.isShowPopup=!1,void t.$toast(e.data.msg))}))}})},u=s,r=(o("c254"),o("2877")),l=Object(r["a"])(u,i,a,!1,null,null,null);e["default"]=l.exports},c254:function(t,e,o){"use strict";o("0255")}}]);
//# sourceMappingURL=chunk-1ebe2e08.74e9cf0b.js.map