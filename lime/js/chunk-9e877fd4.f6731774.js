(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9e877fd4"],{"4ffd":function(t,a,i){t.exports=i.p+"img/logo.4b1f2144.png"},"6bbe":function(t,a,i){},dc0c:function(t,a,i){"use strict";i.r(a);var o=function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",{staticClass:"movie-detail",style:t.isShow?"backgroundColor: "+t.movieData.backgroundColor:""},[o("NavBar",{staticClass:"toFixed",attrs:{"text-center":"详情"},on:{"left-click":function(a){return t.$goBack()}}}),t.isShow?o("div",{staticClass:"movie-info",style:t.isShow?"backgroundColor: "+t.movieData.backgroundColor:""},[o("div",{staticClass:"movie-info-top"},[o("div",{staticClass:"movie-cover",on:{click:function(a){a.stopPropagation(),t.isShowVideo=!0}}},[o("img",{staticClass:"img noneBg poster",attrs:{src:t.movieData.img,width:"100",height:"138",e:"1",c:"1"}}),o("img",{staticClass:"img noneBg poster-play",attrs:{src:"//s0.meituan.net/bs/myfe/canary/file/asgard/images/movie/poster-play.png"}})]),o("div",{staticClass:"movie-desc"},[o("div",{staticClass:"movie-desc-top"},[o("div",{staticClass:"movie-cn-name"},[o("h1",[t._v(t._s(t.movieData.nm))])]),o("div",{staticClass:"movie-en-name"},[t._v(t._s(t.movieData.enm))]),o("div",{staticClass:"movie-other-info"},[o("div",{staticClass:"movie-type"},[o("span",{staticClass:"movie-cat"},[t._v(t._s(t.movieData.cat))])]),o("div",{staticClass:"actors"},[o("span",[t._v(t._s(t.movieData.star))])]),o("div",{staticClass:"movie-show-time"},[o("span",[t._v(" "+t._s(t.movieData.pubDesc)+" "),t.movieData.dur?o("i",[t._v("/ "+t._s(t.movieData.dur)+"分钟")]):t._e()]),o("i",{staticClass:"iconfont icon-right img noneBg "})])])]),o("div",{staticClass:"btns"},[o("button",{staticClass:"button",class:{watched:t.watchData.wantToWatch},attrs:{"data-bid":"b_rjonirtp",type:"button"},on:{click:t.wantToWatch}},[o("i",{staticClass:"iconfont icon-heart img noneBg"}),o("span",[t._v("想看")])]),o("button",{staticClass:"link button btn-right",class:{watched:t.watchData.watched},on:{click:t.watched}},[o("i",{staticClass:"iconfont icon-star img noneBg"}),o("span",[t._v("看过")])])])])]),o("div",{staticClass:"real-time-word-of-mouth theater-chain-not-graded"},[t._m(0),o("div",{staticClass:"middle"},[o("span",{staticClass:"people-want-to-watch"},[t._v(" "+t._s(t._f("getThousands")(t.movieData.wish))+" ")]),o("span",[t._v("人想看")])])]),o("div",{staticClass:"brief-introduction"},[o("div",{staticClass:"title"},[o("span",[t._v("简介")]),o("div",{staticClass:"open",on:{click:function(a){t.isOpen=!t.isOpen}}},[o("span",[t._v(t._s(t.isOpen?"收起":"展开"))]),o("i",{staticClass:"iconfont",class:t.isOpen?"icon-up":"icon-down"})])]),o("div",{staticClass:"content ",attrs:{"data-bid":"b_y93QJ"}},[o("p",{class:t.isOpen?"":"line-clamp",attrs:{id:"brief-introduction-content"}},[t._v(" "+t._s(t.movieData.dra)+" ")])])]),o("MovieList",{attrs:{movieList:t.photos},on:{"click-photo":t.showPhoto}},[o("div",{staticClass:"stage-photo"},[t._v("剧照")])]),o("div",{staticClass:"buyMovie"},[o("div",{staticClass:"buyMovie-btn",on:{click:t.buyTickets}},[t._v(" 特约购票 ")])])],1):o("div",{staticClass:"loading-mask"},[o("img",{attrs:{src:i("4ffd")}}),o("span",[t._v("加载中...")])]),o("Popup",{directives:[{name:"show",rawName:"v-show",value:t.isShowPhoto,expression:"isShowPhoto"}],on:{close:t.closePupop}},[o("img",{staticClass:"img",attrs:{src:t.imgUrl}})]),t.isShowVideo?o("Popup",{on:{close:t.closePupop}},[o("video",{attrs:{src:t.movieData.vd,controls:"",autoplay:""}})]):t._e()],1)},e=[function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",{staticClass:"top"},[o("div",{staticClass:"left"},[o("img",{staticClass:"img noneBg",attrs:{alt:"logo",src:i("4ffd")}}),o("span",[t._v("实时口碑")])])])}],s=(i("4160"),i("d81d"),i("ac1f"),i("5319"),i("159b"),i("5530")),n=(i("6bbe"),i("2f62")),c={name:"movieInfo",data:function(){return{isShow:!1,movieId:"",showst:"",movieData:{},watchData:{wantToWatch:!1,watched:!1},isOpen:!1,photos:[],isShowVideo:!1,isShowPhoto:!1,judge:!0,imgUrl:""}},created:function(){this.movieId=this.$route.params.movieId,this.showst=this.$route.params.showst,this.setMovieId(this.movieId),this.getMovieDetail(this.movieId),JSON.parse(localStorage.getItem("watch"+this.movieId))&&(this.watchData=JSON.parse(localStorage.getItem("watch"+this.movieId)))},watch:{"$route.params.movieId":function(t){this.getMovieDetail(t)}},computed:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(n["c"])("api",{api:function(t){return t.api}})),Object(n["c"])("cinemaModule",{cinema:function(t){return t.cinema}})),Object(n["c"])({appkey:function(t){return t.appkey}})),methods:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(n["b"])("userModule",{setUser:"setUser"})),Object(n["b"])("cinemaModule",{setMovieImg:"setMovieImg",setMovieId:"setMovieId",setCinema:"setCinema"})),{},{getMovieDetail:function(t){var a=this;this.isShow=!1,this.axios({url:this.api.detailmovie,params:{movieId:t}}).then((function(t){t.data.detailMovie&&(a.$toast.clear(),a.isShow=!0,a.movieData=t.data.detailMovie,a.movieData.cat=a.movieData.cat.replace(/\,/g," / "),a.movieData.star=a.movieData.star.replace(/\,/g," / "),a.movieData.img=a.$imgUrl(a.movieData.img),a.movieData.photos.map((function(t){var i={};i.img=a.$imgUrl(t),i.nm="",i.comingTitle="",a.photos.push(i)})))}))},closePupop:function(t){this.isShowVideo=t,this.isShowPhoto=t},showPhoto:function(t){this.isShowPhoto=!0,this.imgUrl=this.photos[t].img},wantToWatch:function(){var t="watch"+this.movieId;this.watchData.wantToWatch=!this.watchData.wantToWatch,localStorage.removeItem(t),localStorage.setItem(t,JSON.stringify(this.watchData))},watched:function(){var t="watch"+this.movieId;this.watchData.watched=!this.watchData.watched,localStorage.removeItem(t),localStorage.setItem(t,JSON.stringify(this.watchData))},buyTickets:function(){var t=this,a=localStorage.getItem("__tk");if(!a)return this.$toast("请先登录"),void setTimeout((function(){t.$goPage({name:"Login"})}),1e3);this.axios({method:"GET",url:this.api.findAccountInfo,params:{appkey:this.appkey,tokenString:a}}).then((function(a){if(t.$toast.clear(),700==a.data.code&&(t.$toast("请先登录"),setTimeout((function(){t.$goPage({name:"Login"})}),1500)),"B001"==a.data.code){if(t.setUser(a.data),!t.cinema.nm)return t.$toast("请先选择影院"),void setTimeout((function(){t.$goPage({name:"Cinema"})}),1500);if(4==t.showst)return void t.$toast("该电影处于预售状态，现不可购票");t.setMovieImg(t.movieData.img),t.$goPage({name:"Pay",query:{id:t.movieData.id,nm:t.movieData.nm,oriLang:t.movieData.oriLang,ver:t.movieData.ver,dur:t.movieData.dur}})}}))}}),beforeRouteEnter:function(t,a,i){document.querySelectorAll(".mask").forEach((function(t,a){return t.remove()})),i()},beforeRouteLeave:function(t,a,i){document.querySelectorAll(".mask").forEach((function(t,a){return t.remove()})),i()}},r=c,m=i("2877"),v=Object(m["a"])(r,o,e,!1,null,null,null);a["default"]=v.exports}}]);
//# sourceMappingURL=chunk-9e877fd4.f6731774.js.map