(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a44d55dc"],{"26c6":function(t,a,i){},3108:function(t,a,i){t.exports=i.p+"img/pic.c6a4cf04.png"},"6ab7":function(t,a,i){"use strict";i.r(a);var s=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"M-detail"},[i("van-pull-refresh",{attrs:{"success-text":"刷新成功"},on:{refresh:function(a){return t.$onRefresh(t.pullDownToRefresh)}},model:{value:t.pullDownToRefresh,callback:function(a){t.pullDownToRefresh=a},expression:"pullDownToRefresh"}},[i("van-tabs",{staticClass:"M-detail_nav",class:{tabActive:t.isFixed},attrs:{scrollspy:"",sticky:""},on:{scroll:t.navScroll},model:{value:t.currentIndex,callback:function(a){t.currentIndex=a},expression:"currentIndex"}},[i("van-icon",{staticClass:"M-detail_left",attrs:{slot:"nav-left",name:"arrow-left"},on:{click:function(a){return t.$goBack()}},slot:"nav-left"}),i("van-icon",{staticClass:"M-detail_right",attrs:{slot:"nav-right",name:"share"},on:{click:t.shareIt},slot:"nav-right"}),i("van-tab",{attrs:{title:"商品"}},[i("van-swipe",{staticClass:"M-detail_banner",attrs:{loop:!1},on:{change:t.onChange},scopedSlots:t._u([{key:"indicator",fn:function(){return[i("div",{staticClass:"custom-indicator"},[t._v(" "+t._s(t.active+1)+" / "+t._s(t.detailData.length)+" ")])]},proxy:!0}])},t._l(t.detailData,(function(a,s){return i("van-swipe-item",{key:s},[i("img",{attrs:{src:a},on:{click:function(a){t.swipeShow=!0}}})])})),1),i("van-image-preview",{attrs:{images:t.detailData},on:{change:t.onChange},scopedSlots:t._u([{key:"active",fn:function(){return[t._v(" "+t._s(t.active+1)+" / "+t._s(t.detailData.length)+" ")]},proxy:!0}]),model:{value:t.swipeShow,callback:function(a){t.swipeShow=a},expression:"swipeShow"}}),i("div",{staticClass:"M-detail_top"},[i("div",{staticClass:"M-detail_pricee"},[i("span",{staticClass:"M-detail_pricee_now"},[t._v(" "+t._s(t._f("formattingPrice")(t.productData.price))+" ")]),i("span",{staticClass:"M-detail_pricee_pass"},[t._v(" "+t._s(t._f("formattingPrice")(t.productData.price-0+43))+" ")])]),i("div",{staticClass:"M-detail_tit"},[t._v(t._s(t.productData.name))]),i("div",{staticClass:"M-detail_sell M-detail_tip"},[t._v("已售"+t._s(100*(t.productData.price-0))+"+件")])]),i("div",{staticClass:"M-detail_discount M-detail_common",on:{click:t.showDiscount}},[i("span",{staticClass:"M-detail_tip"},[t._v("优惠")]),i("van-tag",{staticClass:"M-giveaway",attrs:{type:"danger",mark:""}},[t._v("赠品")]),i("span",{staticClass:"M-giveaway_desc"},[t._v("满178赠价值75.9元挂耳")]),i("van-icon",{staticClass:"M-giveaway_arrow",attrs:{name:"arrow"}})],1),i("div",{staticClass:"M-detail_common"},[i("div",{staticClass:"M-detail_select",on:{click:t.specificationsShow}},[i("div",{staticClass:"M-select_con"},[i("div",{staticClass:"M-detail_tip"},[t._v("选择")]),i("div",[t._v(t._s(t.productData.name)+"×"+t._s(t.productData.count))])]),i("van-icon",{staticClass:"M-detail_select_arrow",attrs:{name:"arrow"}})],1),i("div",{staticClass:"M-detail_shipping"},[i("span",{staticClass:"M-detail_tip"},[t._v("运费")]),i("span",[t._v("免运费")])])])],1),i("van-tab",{attrs:{title:"详情"}},[i("div",{ref:"scroll",staticClass:"M-productDetails M-detail_common"},[i("div",{staticClass:"M-productDetails_tip"},[t._v("商品详情")]),i("div",{staticClass:"M-productDetails_content"},[i("div",{staticClass:"M-productDetails_content_tip"},[t._v(" "+t._s(t.productData.name)+" / "+t._s(t.productData.enname)+" ")]),t._l(t.productData.desc,(function(a,s){return i("div",{key:s,staticClass:"M-productDetails_content_desc"},[i("p",{staticStyle:{padding:"10px 0"}},[t._v(t._s(s+1)+"、"+t._s(a))]),i("img",{attrs:{src:t.productData.small_img}}),i("img",{attrs:{src:t.productData.large_img}})])}))],2)])])],1)],1),i("van-popup",{attrs:{"get-container":"#app",position:"bottom",closeable:"","close-icon":"close"},model:{value:t.isShow,callback:function(a){t.isShow=a},expression:"isShow"}},[i("van-grid",{directives:[{name:"show",rawName:"v-show",value:t.isShareIt,expression:"isShareIt"}],staticClass:"M-share_popUp"},t._l(t.sharItData,(function(a,s){return i("van-grid-item",{key:s,attrs:{icon:a.imgSrc,text:a.title},on:{click:function(a){return t.share(s)}}})})),1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowDiscount,expression:"isShowDiscount"}],staticClass:"M-discount_popUp"},[i("div",{staticClass:"M-discount_p_tip"},[i("span",[t._v("当前优惠")])]),i("div",{staticClass:"M-discount_p_aleat"},[t._v("立即下单可享优惠")]),i("div",{staticClass:"M-discount_p_content"},[i("div",{staticClass:"M-discount_ctn_item"},[i("div",{staticClass:"M-discount_ctn_item_t"},[t._v(" 【喵时光潮牌】抢先购 ")]),i("div",{staticClass:"M-discount_ctn_item_c"},[i("div",[i("van-tag",{staticClass:"M-discount_ctn_item_icon",attrs:{mark:"",type:"primary"}},[t._v("赠品")])],1),i("div",{staticClass:"M-discount_ctn_item_con"},[i("div",[i("span",[t._v("满178赠")]),i("span",{staticClass:"M-discount_end"},[t._v("(赠完即止)")]),i("div",{staticClass:"M-discount_time"},[t._v(t._s(t.$discountCountdown()))])]),i("div",{staticClass:"M-discount_ctn_item_b",on:{click:function(a){return t.$goPage("Coffeewallet")}}},[i("div",{staticClass:"M-discount_ctn_item_img"},[i("img",{attrs:{src:t.productData.small_img}})]),i("div",[i("div",{staticClass:"M-discount_name"},[t._v("价值75.9挂耳")]),i("div",{staticClass:"M-discount_adreename"},[t._v("原产地系列B")])])])])])])])]),i("select-rule",{directives:[{name:"show",rawName:"v-show",value:t.isSpecifications,expression:"isSpecifications"}],attrs:{productItemData:t.productData}},[i("van-goods-action",{attrs:{slot:"ruleAffirm"},slot:"ruleAffirm"},[i("van-goods-action-button",{attrs:{text:"加入购物袋",type:"warning"},on:{click:t.closePopup}}),i("van-goods-action-button",{attrs:{text:"立即购买",type:"danger"},on:{click:function(a){return t.$addPurchase(t.productData,!0)}}})],1)],1)],1),i("van-goods-action",{staticClass:"M-goods_action"},[i("van-goods-action-icon",{staticClass:"M-addBag",class:{active:t.bagCount>0},attrs:{icon:"bag-o",text:"购物袋",badge:0==t.bagCount?"":t.bagCount},on:{click:function(a){return t.$goPage("Shoppingbag")}}}),i("van-goods-action-icon",{class:{active:t.isLike},attrs:{icon:"star",text:"收藏"},on:{click:t.toggleLikeProduct}}),i("van-goods-action-button",{attrs:{type:"warning",text:"加入购物袋"},on:{click:t.specificationsShow}}),i("van-goods-action-button",{attrs:{type:"danger",text:"立即购买"},on:{click:function(a){return t.$addPurchase(t.productData,!0)}}})],1)],1)},e=[],n=(i("b0c0"),i("d3b7"),i("ade3")),o=(i("68ef"),i("a71a"),i("9d70"),i("3743"),i("09fe"),i("4d75"),i("e3b3"),i("8270"),i("786d"),i("504b"),i("28a2")),c=(i("26c6"),{name:"Detail",components:Object(n["a"])({SelectRule:function(){return i.e("chunk-2993c27a").then(i.bind(null,"49c2"))}},o["a"].Component.name,o["a"].Component),data:function(){return{pullDownToRefresh:!1,loading:!0,isFixed:!1,navTitleData:["商品","详情"],currentIndex:0,active:0,swipeShow:!1,isShow:!1,isShareIt:!1,isShowDiscount:!1,isSpecifications:!1,sharItData:[{title:"微信",imgSrc:i("e48c")},{title:"朋友圈",imgSrc:i("6c11")},{title:"生成美图",imgSrc:i("3108")}],pid:"",detailData:[],productData:[],isLike:!1,bagCount:0}},created:function(){this.pid=this.$route.params.pid,this.getProductDetail(),this.findLike(),this.$shopBagCount()},methods:{navScroll:function(t){this.isFixed=t.isFixed},onChange:function(t){this.active=t},getProductDetail:function(){var t=this;this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"GET",url:"/productDetail",params:{appkey:this.appkey,pid:this.pid}}).then((function(a){if(t.$toast.clear(),600==a.data.code){var i=t.$formattingGoodsDetail(a.data.result[0]);return t.productData=i,void(t.detailData=i.imgData)}t.$toast(a.data.msg)}))},shareIt:function(){this.isShowDiscount=!1,this.isSpecifications=!1,this.isShow=!0,this.isShareIt=!0},share:function(t){switch(!0){case 0==t:this.$toast("链接已生成\n快去微信好友分享吧");break;case 1==t:this.$toast("链接已生成\n快去微信朋友圈分享吧");break;case 2==t:this.$toast("已保存至相册");break}this.isShowDiscount=!1,this.isSpecifications=!1,this.isShow=!1,this.isShareIt=!1},showDiscount:function(){this.isShareIt=!1,this.isSpecifications=!1,this.isShow=!0,this.isShowDiscount=!0},specificationsShow:function(){this.isShareIt=!1,this.isShowDiscount=!1,this.isShow=!0,this.isSpecifications=!0},toggleRule:function(t,a){t.ruleIndex!=a&&(t.ruleIndex=a)},closePopup:function(){this.isSpecifications=!1,this.isShow=!1,this.$addPurchase(this.productData)},findLike:function(){var t=this,a=localStorage.getItem("__tk");this.$judgeToken(a)||this.axios({method:"GET",url:"/findlike",params:{appkey:this.appkey,pid:this.pid,tokenString:a}}).then((function(a){t.$toast.clear(),1e3==a.data.code&&a.data.result.length>0&&(t.isLike=!0)}))},toggleLikeProduct:function(){var t=this,a=localStorage.getItem("__tk");this.$judgeToken(a)||this.axios({method:"POST",url:this.isLike?"/notlike":"/like",data:{appkey:this.appkey,pid:this.pid,tokenString:a}}).then((function(a){t.$toast.clear(),700==a.data.code?t.$goPage("Login"):800==a.data.code?t.isLike=!0:900==a.data.code&&(t.isLike=!1),t.$toast(a.data.msg)}))}}}),r=c,l=i("2877"),d=Object(l["a"])(r,s,e,!1,null,null,null);a["default"]=d.exports},"6c11":function(t,a,i){t.exports=i.p+"img/moments.e81fe768.png"},"7a82":function(t,a,i){var s=i("23e7"),e=i("83ab"),n=i("9bf2");s({target:"Object",stat:!0,forced:!e,sham:!e},{defineProperty:n.f})},ade3:function(t,a,i){"use strict";i.d(a,"a",(function(){return s}));i("7a82");function s(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}},b0c0:function(t,a,i){var s=i("83ab"),e=i("9bf2").f,n=Function.prototype,o=n.toString,c=/^\s*function ([^ (]*)/,r="name";s&&!(r in n)&&e(n,r,{configurable:!0,get:function(){try{return o.call(this).match(c)[1]}catch(t){return""}}})},e48c:function(t,a,i){t.exports=i.p+"img/wechart.da4f5c4d.png"}}]);
//# sourceMappingURL=chunk-a44d55dc.60b0ea62.js.map