(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-62f63dfd"],{3999:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"M-profile"},[a("van-notice-bar",{staticClass:"M-notive",attrs:{"left-icon":"volume-o",mode:"closeable",text:"客服在线时间 9:00 - 17:30  客服联系方式 400-600-243"}}),a("div",{staticClass:"M-profileBg",style:{backgroundImage:"url("+e.userInfo.userBg+")"}},[a("van-uploader",{staticClass:"M-upload",attrs:{"after-read":e.uploadBg}})],1),a("div",{staticClass:"M-profile_info"},[a("div",{staticClass:"M-infoMain"},[a("div",{staticClass:"M-userImg",style:{backgroundImage:"url("+e.userInfo.userImg+")"}}),a("div",{staticClass:"M-profileUserInfo"},[a("div",{staticClass:"M-userName"},[e._v(e._s(e.userInfo.nickName))]),a("div",{staticClass:"M-userDesc"},[e._v(" "+e._s(""==e.userInfo.desc?"简介：暂无介绍":e.userInfo.desc)+" ")])])]),a("div",{staticClass:"M-profile_list"},e._l(e.listData,(function(t,i){return a("van-cell",{key:i,attrs:{title:t.title,icon:t.icon,"is-link":""},on:{click:function(a){return a.stopPropagation(),e.$goPage(t.name)}}})})),1)])],1)},s=[],n=(a("c975"),a("a15b"),a("ac1f"),a("5319"),a("1276"),a("9883"),{name:"Profile",data:function(){return{listData:[{title:"个人资料",name:"Person",icon:"manager"},{title:"咖啡钱包",name:"Coffeewallet",icon:"gold-coin"},{title:"我的订单",name:"Order",icon:"column"},{title:"收藏夹",name:"Like",icon:"like"},{title:"地址栏",name:"Address",icon:"location"},{title:"安全中心",name:"Secure",icon:"umbrella-circle"}],userInfo:{}}},created:function(){this.getUserInfo()},methods:{getUserInfo:function(){var e=this,t=localStorage.getItem("__tk");this.$judgeToken(t)||this.axios({method:"GET",url:"/findMy",params:{appkey:this.appkey,tokenString:t}}).then((function(t){e.$toast.clear(),700==t.data.code&&e.$goPage("Login"),"A001"==t.data.code&&(e.userInfo=t.data.result[0])}))},uploadBg:function(e){var t=this,a=["gif","png","jpg","jpeg"],i=1,s=e.file.type.split("/")[1];if(-1!==a.indexOf(s)){var n=e.file.size/1024/1024;if(n>i)this.$toast("文件允许最大不能超过"+i+"MB");else{var o=e.content.replace(/^data:image\/[A-Za-z]+;base64,/,""),r=localStorage.getItem("__tk");this.$judgeToken(r)||this.axios({method:"POST",url:"/updateUserBg",data:{appkey:this.appkey,tokenString:r,imgType:s,serverBase64Img:o}}).then((function(e){t.$toast.clear(),700==e.data.code&&t.$goPage("Login"),"I001"==e.data.code&&(t.userInfo.userBg=e.data.userBg),t.$toast(e.data.msg)}))}}else this.$toast("文件类型只支持"+a.join(","))}}}),o=n,r=a("2877"),l=Object(r["a"])(o,i,s,!1,null,null,null);t["default"]=l.exports},9883:function(e,t,a){},c975:function(e,t,a){"use strict";var i=a("23e7"),s=a("4d64").indexOf,n=a("a640"),o=a("ae40"),r=[].indexOf,l=!!r&&1/[1].indexOf(1,-0)<0,c=n("indexOf"),d=o("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:l||!c||!d},{indexOf:function(e){return l?r.apply(this,arguments)||0:s(this,e,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-62f63dfd.f22f5734.js.map